<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sleep Ritual ‚Äî Telegram Mini App</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <script defer src="app.js"></script>
  </head>
  <body>
    <div id="app" class="app-shell">
      <section id="onboarding" class="view">
        <header>
          <p class="eyebrow">–ë–µ—Ä–µ–∂–Ω—ã–π —Å—Ç–∞—Ä—Ç</p>
          <h1>–í–µ—Ä–Ω—ë–º —Ç–≤–æ–π –∏–¥–µ–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º —Å–Ω–∞</h1>
          <p class="subtitle">
            –£–∫–∞–∂–∏ —Ç–µ–∫—É—â–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏, —Ü–µ–ª—å –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂–∞. –ü–ª–∞–Ω –∑–∞–π–º—ë—Ç –º–µ–Ω—å—à–µ –º–∏–Ω—É—Ç—ã.
          </p>
        </header>
        <form id="onboardingForm" class="onboarding-form card">
          <label class="field">
            <span>–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è –ø–æ–¥—ä—ë–º–∞</span>
            <select id="currentWakeSelect" required></select>
          </label>
          <label class="field">
            <span>–ñ–µ–ª–∞–µ–º–æ–µ –≤—Ä–µ–º—è –ø–æ–¥—ä—ë–º–∞</span>
            <select id="targetWakeSelect" required></select>
          </label>
          <div class="field">
            <div class="field-top">
              <span>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂–∞</span>
              <span id="challengeHint" class="hint">14 –¥–Ω–µ–π</span>
            </div>
            <div class="challenge-options">
              <button type="button" data-days="7" class="chip">7 –¥–Ω–µ–π</button>
              <button type="button" data-days="14" class="chip chip-active">14 –¥–Ω–µ–π</button>
              <button type="button" data-days="21" class="chip">21 –¥–µ–Ω—å</button>
            </div>
          </div>
          <button id="startChallenge" class="main-action" type="submit">–ù–∞—á–∞—Ç—å —á–µ–ª–ª–µ–Ω–¥–∂</button>
        </form>
      </section>

      <section id="todayView" class="view hidden">
        <header class="view-header">
          <div>
            <p class="eyebrow" id="statusText"></p>
            <h2 id="dayTitle"></h2>
          </div>
          <button id="restartButton" class="ghost">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </header>

        <div class="card progress-card">
          <div class="progress-ring">
            <svg width="120" height="120">
              <circle class="track" cx="60" cy="60" r="52"></circle>
              <circle class="indicator" cx="60" cy="60" r="52"></circle>
            </svg>
            <div class="progress-label">
              <span id="progressPercent">0%</span>
              <small id="progressDays">0/0</small>
            </div>
          </div>
          <div>
            <p class="plan-line">–î–µ–Ω—å <span id="dayNumber">0</span> –∏–∑ <span id="totalDays">0</span></p>
            <p class="plan-line accent" id="todayShift"></p>
            <div class="streak-pill" id="streakText"></div>
          </div>
        </div>

        <div class="card plan-card">
          <p class="eyebrow">–ü–ª–∞–Ω –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</p>
          <div class="plan-row">
            <div class="icon-pill moon">üåô</div>
            <div>
              <p class="label">–õ–µ—á—å –¥–æ</p>
              <p class="value" id="sleepTarget">‚Äî</p>
            </div>
          </div>
          <div class="plan-row">
            <div class="icon-pill sun">‚òÄÔ∏è</div>
            <div>
              <p class="label">–í—Å—Ç–∞—Ç—å –¥–æ</p>
              <p class="value" id="wakeTarget">‚Äî</p>
            </div>
          </div>
          <div class="badge" id="streakBadge">+1 –∫ —Å–µ—Ä–∏–∏, –µ—Å–ª–∏ —É–¥–µ—Ä–∂–∏—à—å—Å—è üòâ</div>
        </div>

        <div class="card checklist-card">
          <p class="eyebrow">–ú–∏–Ω–∏-—á–µ–∫–ª–∏—Å—Ç</p>
          <ul id="checklist"></ul>
        </div>

        <div class="card log-card">
          <p class="eyebrow">–§–∏–∫—Å–∞—Ü–∏—è –¥–Ω—è</p>
          <label class="field">
            <span>–í–æ —Å–∫–æ–ª—å–∫–æ –ª—ë–≥(–ª–∞)?</span>
            <select id="actualSleepSelect"></select>
          </label>
          <label class="field">
            <span>–í–æ —Å–∫–æ–ª—å–∫–æ –≤—Å—Ç–∞–ª(–∞)?</span>
            <select id="actualWakeSelect"></select>
          </label>
          <div class="field">
            <span>–°–∞–º–æ—á—É–≤—Å—Ç–≤–∏–µ</span>
            <div id="moodPicker" class="mood-picker">
              <button type="button" data-mood="sad">üòû</button>
              <button type="button" data-mood="ok">üòê</button>
              <button type="button" data-mood="good">üôÇ</button>
              <button type="button" data-mood="great">üòÅ</button>
            </div>
          </div>
          <button id="saveDay" class="main-action">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–µ–Ω—å</button>
        </div>
      </section>

      <section id="progressView" class="view hidden">
        <header class="view-header">
          <div>
            <p class="eyebrow">–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
            <h2>–°–µ—Ç–∫–∞ —á–µ–ª–ª–µ–Ω–¥–∂–∞</h2>
          </div>
          <button id="backToday" class="ghost">–°–µ–≥–æ–¥–Ω—è</button>
        </header>
        <div class="card grid-card">
          <div id="progressGrid" class="grid"></div>
          <div id="dayDetails" class="day-details hidden"></div>
        </div>
        <div class="card stats-card">
          <p class="eyebrow">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</p>
          <div class="stat-line"><span>–°–µ—Ä–∏—è –∑–µ–ª—ë–Ω—ã—Ö –¥–Ω–µ–π</span><strong id="currentStreakStat">0</strong></div>
          <div class="stat-line"><span>–õ—É—á—à–∞—è —Å–µ—Ä–∏—è</span><strong id="bestStreakStat">0</strong></div>
          <div class="stat-line"><span>–ó–µ–ª—ë–Ω—ã—Ö –¥–Ω–µ–π</span><strong id="greenCount">0</strong></div>
          <div class="stat-line"><span>–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –ø–æ–¥—ä—ë–º–∞</span><strong id="avgWake">‚Äî</strong></div>
        </div>
      </section>

      <nav class="bottom-nav hidden" id="mainNav">
        <button data-view="todayView" class="active">–°–µ–≥–æ–¥–Ω—è</button>
        <button data-view="progressView">–ü—Ä–æ–≥—Ä–µ—Å—Å</button>
      </nav>
    </div>
    <div class="toast" id="toast"></div>
  </body>
</html>
